# Poker Game with "Two Plus Two" Algorithm

Этот проект представляет собой реализацию игры в покер, где для определения комбинаций используется алгоритм "Two Plus Two". Этот алгоритм обеспечивает **линейное время определения комбинации**, что делает его чрезвычайно эффективным для таких задач.

## Особенности

- **Быстрое определение покерных комбинаций**: Используется хэш-таблица с 32,587,834 записями, что позволяет за один запрос к каждой карте определить комбинацию.
- **Поддержка двух режимов игры**:
  - Игра против бота.
  - Бот против бота.
- **Интеллектуальные действия ботов**: Боты принимают решения на основе вероятностей и встроенных настроек, включая возможность блефа.
- **Рассчет шансов выигрыша**: Вероятность победы вычисляется на каждой стадии игры.
- **Визуализация карт**: Карты игрока и стола отображаются в удобном текстовом формате.
- **Логика ставок**: Поддерживаются ставки, рейзы, коллы, фолды и олл-ин.

## Описание алгоритма "Two Plus Two"

Алгоритм основан на предварительно созданной хэш-таблице, содержащей уникальные значения для всех возможных комбинаций покерных рук. 

### Преимущества алгоритма:
1. **Эффективность**: Определение комбинации происходит за **линейное время O(7)**, где 7 — количество карт в руке.
2. **Компактность данных**: Хэш-таблица кодирует категорию руки и ранг в одном числе.
3. **Точность**: Алгоритм охватывает все возможные комбинации покерных карт.

### Шаги работы:
1. Для каждой карты в руке выполняется запрос в хэш-таблицу.
2. После обработки всех карт результат хэш-таблицы содержит комбинацию и её силу.
3. Результат сравнивается между игроками для определения победителя.

## Системные требования

- Компилятор C++ (например, GCC, MinGW или Visual Studio).
- Операционная система Windows.
- Предварительно скомпилированный файл `HandRanks.dat` (таблица для алгоритма "Two Plus Two").

## Как запустить

### Сборка проекта
1. Скомпилируйте файл `Source.cpp` с использованием вашего компилятора:
   ```bash
   g++ Source.cpp -o poker_game
   ```
2. Убедитесь, что файл `HandRanks.dat` находится в одной папке с исполняемым файлом.

### Запуск
1. Запустите программу:
   ```bash
   ./poker_game
   ```
2. Выберите режим игры:
   - 1: Игра против бота.
   - 2: Игра "бот против бота".

## Пример игры

### Игра против бота
После выбора режима "Игра против бота", вы можете:
- Сделать ставки: колл, рейз, фолд или олл-ин.
- Посмотреть свои карты и карты на столе.
- Выиграть или проиграть, исходя из вычисленной силы руки.

### Бот против бота
- Два бота играют друг против друга.
- Выводится статистика их ставок, вероятности выигрыша и итоговый победитель.

## Структура проекта

- **Основные структуры данных**:
  - `hand` — хранит карты игрока.
  - `table` — карты на столе.
  - `game` — состояние игры между игроком и ботом.
  - `game_bot_vs_bot` — состояние игры между двумя ботами.

- **Основные функции**:
  - `card_generation()` — генерирует случайные карты.
  - `LookupHand()` — вычисляет силу комбинации на основе таблицы.
  - `chanse()` — рассчитывает вероятность выигрыша.
  - Логика ставок и действий ботов (`bot_call`, `bot_raise`, `bot_fold` и т.д.).

## Дополнительная информация

- **Производительность**: Алгоритм определения комбинаций демонстрирует высокую производительность даже при обработке большого числа рук.
- **Масштабируемость**: Можно легко добавить новые режимы или модифицировать текущие.
- **Настройка ботов**: Параметры ботов (например, диапазон вероятностей для рейза или колла) настраиваются через структуру `bot_settings`.
